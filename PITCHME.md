## React ã‚·ãƒªãƒ¼ã‚º

<br />

## - Redux-Thunk ã®å°å…¥ -

2020/10/20 å°æ—

---

- ãªãœã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’å°å…¥ã™ã¹ããªã®ã‹ã‚’ç¢ºèªã™ã‚‹
- Redux-Thunk ã®ç‰¹å¾´ã«ã¤ã„ã¦ç¢ºèªã‚’ã™ã‚‹

---

@snap[west span-45]

@size[0.5em] I recommend

![alt](assets/images/ouka.png)

@snapend

@snap[east span-50]

@size[0.5em](ã‚Šã‚ã‚¯ãƒˆï¼TypeScriptã§å§‹ã‚ã‚‹ã¤ã‚‰ããªã„Reacté–‹ç™º)
@size[0.5em](å¤§å²¡ç”±ä½³)
@size[0.5em](@oukayuka)

@snapend

---

## ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒãªã„å ´åˆã¨ã‚ã‚‹å ´åˆã§ã¯ä½•ãŒé•ã†ã®ã‹ï¼Ÿ

---

éåŒæœŸå‡¦ç†ã‚’ã©ã†æ‰±ã†ã‹ãŒå¤‰ã‚ã£ã¦ãã‚‹

---

## ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½¿ã‚ãªã„å ´åˆã€

- React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…éƒ¨ã«å‡¦ç†ã‚’ç½®ã

  - ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ¡ã‚½ãƒƒãƒ‰
  - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã§å‘¼ã°ã‚Œã‚‹é–¢æ•°

- ãã®çµæœã‚’ãƒ­ãƒ¼ã‚«ãƒ« state ã«æ ¼ç´ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…éƒ¨ã§ä½¿ã„å›ã™

---?code=sideEffect_without_middleWare.tsx

---

ã“ã®ã‚„ã‚Šæ–¹ã ã¨ã€è¦æ¨¡ãŒå¤§ãããªã‚‹ã«ã¤ã‚Œã‚Œæ§˜ã€…ãªå•é¡ŒãŒå‡ºã¦ãã‚‹

---

## å•é¡Œç‚¹

- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨å‰¯ä½œç”¨ã‚’ä¼´ã†ãƒ­ã‚¸ãƒƒã‚¯ãŒå¯†çµåˆã«ãªã‚‹

  - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆ
  - ãƒ†ã‚¹ãƒˆã—ã«ãã„
  - å†åˆ©ç”¨ã§ããªã„ã‹å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯ä½¿ã„æ¨ã¦ã«ãªã‚‹

- ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†å ´åˆã¯ã€é‡è¤‡ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ã«ãªã‚‹
  - componentDidMount ã¨ componentDidUpdate

---

## ãã“ã§ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½¿ãŠã†ã¨ã„ã†é¸æŠè‚¢

---

- éåŒæœŸå‡¦ç†ã‚’å«ã‚€å‡¦ç†ã‚’åˆ‡ã‚Šå‡ºã—ã¦ã€ç‹¬ç«‹ã•ã›ã‚‹
- ä½¿ã„å›ã—ãŒ å¯èƒ½ã«ãªã‚‹

---

![alt](assets/images/npm_trends_thunk.png)

---

## Redux-Thunk ã®ã—ãã¿

---

## ã¾ãšã€Redux ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

![alt](assets/images/redux.png)

---

## Redux-Thunk ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

![alt](assets/images/redux_thunk.png)

---

## Redux-Thunk ã¨ã¯ã€

â‘ dispatcher ã‚’æ‹¡å¼µã—ã¦ã€<br />
â‘¡ ç´”ç²‹ãª action ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä»¥å¤–ã«ã‚‚å‰¯ä½œç”¨ã‚’
å†…åŒ…ã—ãŸé–¢æ•°ã‚„ Promise ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ dispatch ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢

---

<br>

@snap[west span-45 font-size]

@size[0.75em]<b>@color[#5289F7](æ¨™æº–ã® Dispatcher)</b><br />@size[0.5em](@container)

@size[0.5em](@color[#5289F7](ç´”ç²‹ãª action ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ) ã®ã¿ dispatch ã™ã‚‹)

![alt](assets/images/mapDispatchToProps.png)

@snapend

@snap[east span-50]

@size[0.75em]<b>@color[#5289F7](Redux Thunk)</b><br />@size[0.5em](@thunk)

@size[0.5em](@color[#5289F7](å‰¯ä½œç”¨ã‚’å†…åŒ…ã—ãŸé–¢æ•°ã‚„ Promise ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)ã‚‚ dispatch ã™ã‚‹)

![alt](assets/images/redux-thunk-example.png)

@snapend

---?code=thunk_example.ts

---?code=reducer.ts

---

- ã€Œdispatcher ã‚’æ‹¡å¼µã—ã¦ã€ã¨ã¯ã€

---

- action creator ã®ä¸­ã§ä»–ã® action creator ã‚’ dispatch ã™ã‚‹ã“ã¨ãŒã§ãã‚‹
- è¤‡æ•°ã® action ã‚’ dispatch ã™ã‚‹ã“ã¨ãŒã§ãã‚‹

---

ã§ã¯@color[#5289F7](Hooks)ã‚’ä½¿ç”¨ã—ãŸ@color[#5289F7](é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)ã§ã¯ã©ã†ãªã‚‹ã®ã‹

---

@snap[west span-45]

![alt](assets/images/FunctionalComponentExample.png)

@snapend

@snap[east span-50]

- @size[0.5em](Hooksã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®ãƒ¡ã‚½ãƒƒãƒ‰åã«åŸºã¥ãã®ã§ã¯ãªãã€å®Ÿéš›ã«ä½•ã‚’ã‚„ã£ã¦ã„ã‚‹ã®ã‹ã«åŸºã¥ã„ã¦ã‚³ãƒ¼ãƒ‰ã‚’åˆ†å‰²ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚)

@snapend

---

## ğŸ˜Š å¤§ä¸ˆå¤«ã ã£ãŸ

---?code=redux-thunk-directory.js

@snap[east span-50]

@snapend

---?code=useEffect_2.js

@snap[east span-50]

- @size[0.5em](ç¬¬äºŒå¼•æ•°ã¯çœç•¥ã™ã‚‹ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã®æ¯å›doSomethingã¯å®Ÿè¡Œã•ã‚Œã‚‹)

@snapend

---?code=useEffect_3.js

@snap[east span-50]

- @size[0.5em](ç¬¬äºŒå¼•æ•°ã«ç©ºé…åˆ—ã‚’æ¸¡ã™ã¨ã€åˆå›ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«ã®ã¿doSomethingãŒå®Ÿè¡Œã•ã‚Œã‚‹)

@snapend

---

## ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

â†’ ã“ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã“ã®å‡¦ç†ã¨ã“ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹

## Effect Hook

â†’ ã“ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ãŸã„ã®ã¯ã“ã‚Œã¨ã“ã‚Œã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã 

---

ã”æ¸…è´ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼

---
